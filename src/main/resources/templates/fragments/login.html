<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Dart Polska</title>
    <link th:href="@{/css/forms.css}" rel="stylesheet"/>
    <link th:href="@{/css/button.css}" rel="stylesheet"/>
</head>
<body>
<div th:fragment="login">

    <div class="form">
            <div style="color: #E21103; background: #E23443" th:if="${loginError}" th:text="*{loginError}"></div>
        <form sec:authorize="!isAuthenticated()" method="post" th:action="@{/login-process}">
            <p>Nazwa użytkownika/eMail</p>
            <input name="username" placeholder="Username"><br/>
            <p>Hasło</p>
            <input name="password" type="password" placeholder="Password"><br/>

            <button class="button button2">Zaloguj się</button>
        </form>

            <a sec:authorize="!isAuthenticated()" th:href="@{/forgetPassword}">Nie pamiętam hasła</a>


        <div sec:authorize="isAuthenticated()">
            <h4>Witaj: <span th:text="${userName}"></span></h4>
        </div>

        <form sec:authorize="isAuthenticated()" method="post" th:action="@{/logout}">
            <button class="button button2">Wyloguj</button>
        </form>

    </div>

    <a sec:authorize="!isAuthenticated()" th:href="@{/register}">
        <button class="button button2" type="button">Załóż konto</button>
    </a>
</div>


</body>
</html>